<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Niusounds</title>
    <meta property="og:title" content="Niusounds" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://niusounds.github.io/" />
    <meta property="og:image" content="https://avatars.githubusercontent.com/u/1331297" />
    <meta property="og:description" content="Niusoundsはniu（メタルおじさん）が管理人のホームページです。ゆっくりしていってね！" />
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    <style>
        .access-counter {
            font-family: "Press Start 2P";
            font-size: small;
            color: white;
            background-color: black;
            padding: 4px;
            border: 2px inset lightgray;
        }
    </style>
</head>

<body>
    <nav>
        <a href="bbs.html">掲示板</a>
        <a href="doujin2.html">同人活動</a>
        <a href="works.html">作品</a>
    </nav>
    <h1>はじめまして</h1>
    <p>あなたは<span class="access-counter"></span>人目の訪問者です。キリ番報告は<a href="bbs.html">掲示板</a>へどうぞ。</p>
    <p>
        インターネット老人会でヘヴィメタルが好きなniuです。最近はメタルおじさんを名乗っています。
        <br>
        <a href="https://metality.band">METALITY UNITED</a>のコンポーザー兼アレンジャー始めました。
        <br>
    </p>
    <img src="https://avatars.githubusercontent.com/u/1331297" alt="プロフィール画像">
    <table border="4">
        <tr>
            <td>名前</td>
            <td>niu（にぅ）<br>メタルおじさん</td>
        </tr>
        <tr>
            <td>年齢</td>
            <td>0x24歳</td>
        </tr>
        <tr>
            <td>同人活動</td>
            <td>2008年のM3から<br>詳しくは<a href="doujin.html">こちら</a></td>
        </tr>
        <tr>
            <td>職業</td>
            <td>バーチャルAndroidエンジニア</td>
        </tr>
        <tr>
            <td>性別</td>
            <td>おじさん</td>
        </tr>
        <tr>
            <td>住所</td>
            <td>インターネット</td>
        </tr>
        <tr>
            <td>身長</td>
            <td>174cmくらい</td>
        </tr>
        <tr>
            <td>体重</td>
            <td>いくつかな？</td>
        </tr>
        <tr>
            <td>学歴</td>
            <td>工科大</td>
        </tr>
        <tr>
            <td>趣味</td>
            <td>メタルを聴く<br>メタルを作る</td>
        </tr>
        <tr>
            <td>性格</td>
            <td>ひかえめ</td>
        </tr>
        <tr>
            <td>長所</td>
            <td>速さは正義</td>
        </tr>
        <tr>
            <td>短所</td>
            <td>BPM120はバラード</td>
        </tr>
        <tr>
            <td>好きな食べ物</td>
            <td>肉</td>
        </tr>
        <tr>
            <td>好きな音楽</td>
            <td>メタル<br>クラシック<br>吹奏楽</td>
        </tr>
        <tr>
            <td>好きなメタル</td>
            <td>シンフォニックメタル<br>パワーメタル<br>メロディックスピードメタル<br>フォークメタル<br>ヴァイキングメタル<br>メタルコア</td>
        </tr>
        <tr>
            <td>好きなクラシック</td>
            <td>パガニーニのバイオリン曲<br>月光ソナタ</td>
        </tr>
        <tr>
            <td>好きな吹奏楽</td>
            <td>ニュー・サウンズ・イン・ブラス</td>
        </tr>
        <tr>
            <td>好きな漫画家</td>
            <td>凸ノ高秀<br>岡本倫<br>余談ですが、岡本倫さんの「エルフェンリート」に登場する主人公ルーシーの別人格である「にゅう」が好きで名前を名乗り始めました。エルフェンリートは必修科目です。極黒のブリュンヒルデも良い作品ですよ！
            </td>
        </tr>
        <tr>
            <td>好きな歌手</td>
            <td><a href="https://dic.nicovideo.jp/a/%E7%9F%A2%E5%B3%B6%28%E6%AD%8C%E3%81%84%E6%89%8B%29">矢島（歌い手）</a>
            </td>
        </tr>
        <tr>
            <td>好きな日本のバンド</td>
            <td>SEX MACHINEGUNS<br>T-SQUARE</td>
        </tr>
        <tr>
            <td>好きな海外のバンド</td>
            <td>
                Alestorm<br>
                Amaranthe<br>
                Dragonforce<br>
                Equilibrium<br>
                Korpiklaani<br>
                Nightwish<br>
                Sonata Arctica<br>
            </td>
        </tr>
        <tr>
            <td>好きなアーティスト</td>
            <td>明和電機</td>
        </tr>
        <tr>
            <td>好きな動物</td>
            <td>猫（だけど猫アレルギー）</td>
        </tr>
        <tr>
            <td>好きな子</td>
            <td>がめがねを忘れた</td>
        </tr>
    </table>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-app.js";
        import { getFirestore, collection, getCountFromServer, addDoc, doc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDqtUHA0sKHosvhXpwlUA-vtQAkQEq0Bb8",
            authDomain: "niusounds-sandbox.firebaseapp.com",
            databaseURL: "https://niusounds-sandbox.firebaseio.com",
            projectId: "niusounds-sandbox",
            storageBucket: "niusounds-sandbox.appspot.com",
            messagingSenderId: "711623336526",
            appId: "1:711623336526:web:d20cd61b78b0480350991f",
            measurementId: "G-1RZMQY4KQ3"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const accessRef = collection(db, "access");
        const snapshot = await getCountFromServer(accessRef);
        const count = snapshot.data().count;

        // Show access counter
        const accessCounter = document.querySelector('.access-counter');
        accessCounter.innerText = count;

        // Increment access counter
        // first-time access or re-access after more than 24 hours
        const lastAccess = Number(localStorage.getItem('lastAccess'));
        const now = Date.now();
        if (now - lastAccess > 1000 * 60 * 60 * 24) {
            await addDoc(accessRef, {
                time: serverTimestamp(),
                userAgent: navigator.userAgent,
            });
            localStorage.setItem('lastAccess', Date.now().toString());
        }
    </script>
</body>

</html>
